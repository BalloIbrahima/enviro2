this.kubio=this.kubio||{},this.kubio.menuData=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=602)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},12:function(e,t){!function(){e.exports=this.wp.blocks}()},2:function(e,t){!function(){e.exports=this.lodash}()},26:function(e,t){!function(){e.exports=this.kubio.globalData}()},32:function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,o="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function u(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,c,a,l;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(c=s;0!=c--;)if(!u(e[c],t[c]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!t.has(c.value[0]))return!1;for(l=e.entries();!(c=l.next()).done;)if(!u(c.value[1],t.get(c.value[0])))return!1;return!0}if(o&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!t.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(c=s;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((s=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,a[c]))return!1;if(n&&e instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==a[c]&&"__v"!==a[c]&&"__o"!==a[c]||!e.$$typeof)&&!u(e[a[c]],t[a[c]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return u(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},46:function(e,t,n){"use strict";e.exports=n(74)},48:function(e,t,n){"use strict";var r,o,i,u=n(75),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){i=!1}function a(e){if(e){if(e!==r){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==s&&(r=s,c())}function l(){return i||(i=function(){r||a(s);for(var e,t=r.split(""),n=[],o=u.nextValue();t.length>0;)o=u.nextValue(),e=Math.floor(o*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||s},characters:function(e){return a(e),r},seed:function(e){u.seed(e),o!==e&&(c(),o=e)},lookup:function(e){return l()[e]},shuffled:l}},51:function(e,t){!function(){e.exports=this.wp.apiFetch}()},602:function(e,t,n){"use strict";n.r(t),n.d(t,"useMenuBlockEditor",(function(){return E})),n.d(t,"MenuEntityProvider",(function(){return C})),n.d(t,"MENU_ITEM_BLOCK",(function(){return b})),n.d(t,"gutentagMenuEntity",(function(){return g})),n.d(t,"generateItemInitialData",(function(){return y})),n.d(t,"usePrimaryMenuBlockEditor",(function(){return S})),n.d(t,"useMenusLocations",(function(){return I})),n.d(t,"createPrimaryMenu",(function(){return _}));var r=n(0),o=n(26),i=n(51),u=n.n(i),s=n(12),c=n(7),a=n(1),l=n(2),f=n(32),d=n.n(f),p=n(46);const g={name:"menu",kind:"kubio",baseURL:"/kubio/v1/menu",plural:"menus",label:Object(a.__)("Menu","kubio"),mergedEdits:{meta:!0},getTitle:e=>{var t;return Object(l.isString)(null===(t=e)||void 0===t?void 0:t.data)&&(e=JSON.parse(e.data)),Object(l.get)(e,"menu.name",Object(a.__)("Menu Title","kubio"))}},b="kubio/menu-item",h={},v=Object(p.generate)();let m=Object(p.generate)();const O=()=>(h.context||(h.context=Object(r.createContext)()),h);function j(){var e;return null===(e=Object(r.useContext)(O().context))||void 0===e?void 0:e.id}const y=()=>{const e=-1*Date.now();return{id:e,parent:0,type:"custom",objectId:e,label:"",url:"",target:""}},x={content:{},isResolving:!1,hasResolved:!1,lastChange:v};function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=j(),o=null!=e?e:n,{editedEntity:i,isResolving:u,hasResolved:s}=Object(c.useSelect)((e=>({editedEntity:e("core").getEditedEntityRecord(g.kind,g.name,o,t),isResolving:e("core").isResolving("getEditedEntityRecord",[g.kind,g.name,o,t]),hasResolved:e("core").hasFinishedResolution("getEditedEntityRecord",[g.kind,g.name,o,t])}))),a=null==i?void 0:i.lastChange,l=null==i?void 0:i.data;return Object(r.useMemo)((()=>parseInt(o)?{content:l&&JSON.parse(l),isResolving:u,hasResolved:s,lastChange:a||v}:x),[l,u,s,o])}function R(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=j(),i=null!=t?t:o,{content:u,lastChange:s}=M(i,n),a=Object(r.useMemo)((()=>u&&u[e]),[(null==u?void 0:u[e])||null]),l=Object(r.useMemo)((()=>u&&(u.lastReloadUID||"")),[u]),{editEntityRecord:f}=Object(c.useDispatch)("core"),b=Object(r.useCallback)((function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={...u,[e]:t,lastReloadUID:n?Object(p.generate)():u.lastReloadUID};if("items"===e){const e=[...u.items||[]].sort(((e,t)=>e.id-t.id)),n=[...t||[]].sort(((e,t)=>e.id-t.id));if(d()(e,n))return}f(g.kind,g.name,i,{data:JSON.stringify(r),lastChange:Object(p.generate)()})}),[i,e,u]);return[a,b,s,l]}const k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(l.isArray)(e)?e.filter((e=>e.parent===t&&!Object(l.isUndefined)(e.id))).sort(((e,t)=>e.order-t.order)).map((t=>{let{id:n,parent:r,label:o,url:i,target:u,object:c,type:a,objectId:l}=t;return Object(s.createBlock)(b,{id:n,parent:r,label:o,url:i,target:u,object:c,type:a,objectId:l},k(e,n))})):[]},w=e=>{let t=0;const n=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(l.flatten)(e.map((e=>{let{attributes:o,innerBlocks:i}=e;const u=Object(l.merge)(y(),o);return t++,[{...Object(l.omit)(u,"kubio"),order:t,parent:r},...n(i,o.id)]})))};return n(e)},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=j(),o=null!=e?e:n,{isResolving:i,hasResolved:u}=M(o,t),[s,c,a,f]=R("items",o,t),[p,g]=R("menu",o,t),b=Object(r.useCallback)((e=>{const t=w(e);d()(s,t)||c(t)}),[c,s]);return{id:o,items:s,setItems:c,onChange:b,menu:p,setMenu:g,onInput:l.noop,itemsToBlocks:k,isResolving:i,hasResolved:u,lastChangeUID:a,lastReloadUID:f}},L=()=>Object(c.select)("core/block-editor").getSettings().kubioPrimaryMenuLocation,S=()=>{const e=L(),{getMenuLocations:t}=I(),n=t(),o=Object(r.useMemo)((()=>{var t;return null===(t=Object(l.find)(n,{name:e}))||void 0===t?void 0:t.menu}),[(null==n?void 0:n.length)||0]);return{...E(o),exists:!!o}},_=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.__)("Main menu","kubio");const{saveMenu:t}=Object(c.dispatch)("core"),n=await t({name:e}),r=L();let o=null;n&&(o=n.id,await u()({path:"kubio/v1/menu/save-menu-location",method:"POST",data:{location:r,id:o}}),m=Object(p.generate)(),await Object(c.select)("core").getMenuLocations({_:m}))},I=()=>{const{menuLocations:e,setMenuLocations:t}=Object(o.useGlobalDataMenuLocations)(),{getMenuLocations:n,isResolvingLocation:r,hasResolvedLocations:i}=Object(c.useSelect)((e=>({getMenuLocations:e("core").getMenuLocations,isResolvingLocation:e("core").isResolving("getMenuLocations"),hasResolvedLocations:e("core").hasFinishedResolution("getMenuLocations")})));return{menuLocations:e||[],getMenuLocations:n,isResolvingLocation:r,hasResolvedLocations:i,updateLocationMenu:(n,r)=>{const o=e.map((e=>{const t={...e};return t.name===n&&(t.menu=parseInt(r)),t}));t(o)}}},C=e=>{let{id:t,children:n}=e;const o=O().context.Provider,i=Object(r.useMemo)((()=>({id:t})),[t]);return Object(r.createElement)(o,{value:i},n)};(()=>{const e=Object(c.subscribe)((()=>{const t=Object(c.select)("core"),n=Object(c.dispatch)("core");if(!t||!n)return;const r=t.getEntitiesByKind("kubio"),{addEntities:o}=n;Object(l.find)(r,{name:g.name})||(o([g]),e())}))})()},7:function(e,t){!function(){e.exports=this.wp.data}()},74:function(e,t,n){"use strict";var r=n(48),o=n(76),i=n(80),u=n(81)||0;function s(){return o(u)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return u=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=i},75:function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},76:function(e,t,n){"use strict";var r,o,i=n(77);n(48);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===o?r++:(r=0,o=n),t+=i(7),t+=i(e),r>0&&(t+=i(r)),t+=i(n)}},77:function(e,t,n){"use strict";var r=n(48),o=n(78),i=n(79);e.exports=function(e){for(var t,n=0,u="";!t;)u+=i(o,r.get(),1),t=e<Math.pow(16,n+1),n++;return u}},78:function(e,t,n){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},79:function(e,t){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*n/t.length),i="";;)for(var u=e(o),s=o;s--;)if((i+=t[u[s]&r]||"").length===+n)return i}},80:function(e,t,n){"use strict";var r=n(48);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},81:function(e,t,n){"use strict";e.exports=0}});
